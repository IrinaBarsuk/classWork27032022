<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href = "css/w3.css">
    <script src = "js/jquery.js"></script>
    <title>Числа Лишрел</title>
</head>
<body>
    <div class="w3-container w3-card w3-margin w3-padding-16">
    <pre>
        Операция «Перевернуть и сложить» (англ. Reverse-and-add) заключается в том, чтобы сложить исходное число 
        с его «перевёрнутой» копией, то есть числом, цифры которого записаны в обратном порядке. 
        Например, 56 + 65 = 121, 521 + 125 = 646.

        Эта операция может быть применена к любому натуральному числу. Если в результате применения этой операции 
        N раз к некоторому числу будет получен палиндром, то такое число называют «отложенным палиндромом», 
        разрешающимся за N итераций. В отличие от отложенных палиндромов, для чисел Лишрел эта операция не приводит 
        к получению палиндрома, сколько бы раз мы её не выполняли.
        
        Некоторые числа (в частности, все однозначные и почти все двузначные числа) становятся палиндромами достаточно 
        быстро — после применения всего нескольких операций. Так, около 80 % всех чисел, меньших 10000, разрешаются в 
        палиндром за 4 или меньше итерации. Около 91 % — за 7 и меньше итераций. И только два числа — 89 и обратное ему 
        98 — требуют необычно много: 24 операции.
        
        Вот несколько примеров отложенных палиндромов:
        
        56 становится палиндромом после одной итерации: 56 + 65 = 121.
        57 становится палиндромом после двух итераций: 57 + 75 = 132, 132 + 231 = 363.
        59 становится палиндромом после трёх итераций: 59 + 95 = 154, 154 + 451 = 605, 605 + 506 = 1111.
        89 требует необычно много — 24 итерации, прежде чем достичь палиндрома 8813200023188 (это наибольшее количество 
        операций среди чисел до 10000, о которых на текущий момент времени научному сообществу точно известно, что они 
        разрешаются в палиндром). 10 911 достигает палиндрома 4668731596684224866951378664 после 55 итераций.
        Наименьшее число, начиная с 1, которое, видимо, не образует палиндром, — трёхзначное число 196. Это наименьшее 
        известное потенциальное десятичное число Лишрел.
    </pre>
    </div>
    <div id="container" class="w3-container w3-card w3-margin w3-padding-16">
        
    </div>
    <script>
        (function(){
        var n = parseInt(prompt("Введите трехзначное число: "));

        function isPalindrom(n){
            var s = String(n);
            var sRev = s.split("").reverse().join("");
            if (s==sRev) return true;
            else return false;
        }

        function reverse(n){
            var s = String(n);
            var sRev = s.split("").reverse().join("");
            return parseInt(sRev);            
        }

        function oneStep(n){
            return n+reverse(n);
        }
        //console.log(isPolindrom("12321"));
        //console.log(reverse("123"));

        var table=$('<table>');
        var tbody=$('<tbody>');
        table.append(tbody);
        var cond=false;        
        //var arr = oneStep(n);
        
        var tr=$('<tr>');
        tbody.append(tr);
        var td=$('<td>').html(n+'+'+reverse(n)+'='+oneStep(n));
        tr.append(td);
        n=oneStep(n);    

        var count=0;
        while (!isPalindrom(n) && count<30) {
        var tr=$('<tr>');
        tbody.append(tr);
        var td=$('<td>').html(n+'+'+reverse(n)+'='+oneStep(n));
        tr.append(td);
        n=oneStep(n);   
        count++; 
        }


$('#container').append(table); 
    }());
    </script>
</body>
</html>